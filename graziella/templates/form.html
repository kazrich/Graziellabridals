{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Login|Graziella Bridals</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Favicon (Browser tab icon) -->
  <link rel="icon" type="image/png" href="{% static 'bridals/img/logo.png' %}" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Graziella Bridals – A Legacy of Excellence">
    <meta property="og:description" content="Discover timeless bridal gowns and elegant accessories with heart-crafted services.">
    <meta property="og:image" content="https://graziellabridals.onrender.com/static/bridals/img/logo.png">
    <meta property="og:url" content="https://graziellabridals.onrender.com">
    <meta property="og:type" content="website">


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #fff;
            color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative;
        }

        .close-button {
            position: absolute;
            top: 30px;
            right: 40px;
            font-size: 24px;
            text-decoration: none;
            color: #000;
            font-weight: 300;
        }

        .form-wrapper {
            width: 100%;
            max-width: 480px;
            padding: 60px 40px;
            box-sizing: border-box;
        }

        h1 {
            font-family: 'Georgia', serif;
            font-size: 32px;
            text-align: center;
            margin-bottom: 40px;
            letter-spacing: 1px;
        }

        label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        input[type="text"],
        input[type="password"],
        input[type="email"] {
            width: 100%;
            padding: 14px;
            margin-bottom: 24px;
            border: 1px solid #ccc;
            border-radius: 0;
            font-size: 14px;
            box-sizing: border-box;
        }

        .forgot-password {
            text-align: right;
            margin-top: -16px;
            margin-bottom: 24px;
        }

        .forgot-password a {
            font-size: 13px;
            color: #000;
            text-decoration: underline;
        }

        button {
            width: 100%;
            padding: 14px;
            background-color: #000;
            color: #fff;
            border: none;
            font-size: 14px;
            text-transform: uppercase;
            cursor: pointer;
        }

        .create-account {
            margin-top: 30px;
            text-align: center;
            font-size: 13px;
        }

        .create-account a {
            color: #000;
            text-decoration: underline;
            cursor: pointer;
        }

/* Overlay behind the pop-up */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.1); /* very light transparent white */
    backdrop-filter: blur(6px);           /* soft blur effect */
    z-index: 999;
    display: none;
}

/* Pop-up form container */
.popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    max-width: 500px;
    background-color: #fff;               /* crisp white form */
    padding: 40px;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    display: none;
}

/* Heading */
.popup h2 {
    font-family: 'Georgia', serif;
    font-size: 28px;
    margin-bottom: 30px;
    text-align: center;
    color: #000;
}

/* Close button inside pop-up */
.popup .close-popup {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 22px;
    text-decoration: none;
    color: #000;
    font-weight: 300;
}

/* Input fields */
.popup input[type="text"],
.popup input[type="email"],
.popup input[type="password"] {
    width: 100%;
    padding: 14px;
    margin-bottom: 24px;
    border: 1px solid #ccc;
    font-size: 14px;
    box-sizing: border-box;
}

/* Labels */
.popup label {
    display: block;
    font-size: 13px;
    font-weight: 500;
    margin-bottom: 8px;
    text-transform: uppercase;
    color: #000;
}

/* Submit button */
.popup button {
    width: 100%;
    padding: 14px;
    background-color: #000;
    color: #fff;
    border: none;
    font-size: 14px;
    text-transform: uppercase;
    cursor: pointer;
}

/* Forgot Password Pop-up */
#forgot-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    max-width: 500px;
    background-color: #fff;
    padding: 40px;
    box-shadow: 0 0 30px rgba(0,0,0,0.1);
    z-index: 1000;
    display: none;
}

#forgot-popup h2 {
    font-family: 'Georgia', serif;
    font-size: 26px;
    margin-bottom: 20px;
    text-align: center;
    color: #000;
}

#forgot-popup p {
    font-size: 14px;
    margin-bottom: 30px;
    text-align: center;
    color: #333;
}

#forgot-popup label {
    display: block;
    font-size: 13px;
    font-weight: 500;
    margin-bottom: 8px;
    text-transform: uppercase;
    color: #000;
}

#forgot-popup input[type="email"] {
    width: 100%;
    padding: 14px;
    margin-bottom: 24px;
    border: 1px solid #ccc;
    font-size: 14px;
    box-sizing: border-box;
}

#forgot-popup button {
    width: 100%;
    padding: 14px;
    background-color: #000;
    color: #fff;
    border: none;
    font-size: 14px;
    text-transform: uppercase;
    cursor: pointer;
}

.cancel-link {
    margin-top: 20px;
    text-align: center;
}

.cancel-link a {
    font-size: 13px;
    color: #000;
    text-decoration: underline;
    cursor: pointer;
}

/* Overlay for Forgot Password */
#forgot-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(6px);
    z-index: 999;
    display: none;
}

@media screen and (max-width: 768px) {
    body {
        flex-direction: column;
        height: auto;
        padding: 20px;
        align-items: flex-start;
    }

    .form-wrapper {
        padding: 40px 20px;
        max-width: 100%;
    }

    h1 {
        font-size: 26px;
        margin-bottom: 30px;
    }

    label {
        font-size: 12px;
        margin-bottom: 6px;
    }

    input[type="text"],
    input[type="password"],
    input[type="email"] {
        padding: 12px;
        font-size: 13px;
        margin-bottom: 20px;
    }

    button {
        padding: 12px;
        font-size: 13px;
    }

    .forgot-password {
        margin-top: -12px;
        margin-bottom: 20px;
    }

    .forgot-password a {
        font-size: 12px;
    }

    .create-account {
        font-size: 12px;
        margin-top: 20px;
    }

    .popup,
    #forgot-popup {
        width: 90%;
        padding: 30px 20px;
    }

    .popup h2,
    #forgot-popup h2 {
        font-size: 22px;
        margin-bottom: 20px;
    }

    .popup .close-popup,
    .close-button,
    #forgot-popup .close-popup {
        top: 15px;
        right: 20px;
        font-size: 20px;
    }

    #forgot-popup p {
        font-size: 13px;
        margin-bottom: 20px;
    }

    .cancel-link a {
        font-size: 12px;
    }
}


@keyframes flyIn {
    0% {
        opacity: 0;
        transform: translate(-50%, -80%) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

@keyframes bounceOut {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    40% {
        transform: translate(-50%, -48%) scale(1.05);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -80%) scale(0.9);
    }
}


.popup-show {
    animation: flyIn 0.4s ease-out forwards;
}

.popup-hide {
    animation: bounceOut 0.3s ease-in forwards;
}



    </style>
</head>
<body>
<a href="/" class="close-button">&times;</a>

<div class="form-wrapper" id="login-form">
    <h1>LOGIN</h1>
    <form method="post">
        {% csrf_token %}
        <label for="email">Email</label>
        <input type="text" id="email" name="email" placeholder="Enter your email">

        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password">

        <!-- Forgot Password Trigger -->
        <div class="forgot-password">
            <a onclick="showPopup('forgot-popup', 'forgot-overlay')">Forgot password?</a>
        </div>

        <button type="submit">SIGN IN</button>
    </form>

    <div class="create-account">
        <span>Don't have an account? <a onclick="showPopup('popup-form', 'overlay')">Create account</a></span>
    </div>
</div>

<!-- Overlay for Create Account -->
<div class="overlay" id="overlay"></div>

<!-- Create Account Pop-up -->
<div class="popup" id="popup-form">
    <a class="close-popup" onclick="hidePopup('popup-form', 'overlay')">&times;</a>
    <h2>CREATE ACCOUNT</h2>
    <p style="font-size: 13px; color: #555; margin-bottom: 20px;">
        ⚠️ Please enter a valid Google email address. It will be used for password recovery, and your info is safe with us.
    </p>
    <form method="post">
        {% csrf_token %}
        <label for="first_name">First Name</label>
        <input type="text" id="first_name" name="first_name" placeholder="First name">

        <label for="last_name">Last Name</label>
        <input type="text" id="last_name" name="last_name" placeholder="Last name">

        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Email address">

        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Create password">

        <button type="submit">CREATE</button>
    </form>
</div>

<!-- Overlay for Forgot Password -->
<div class="overlay" id="forgot-overlay"></div>

<!-- Forgot Password Pop-up -->
<div class="popup" id="forgot-popup">
    <a class="close-popup" onclick="hidePopup('forgot-popup', 'forgot-overlay')">&times;</a>
    <h2>RESET YOUR PASSWORD</h2>
    <p>We will send you an email to reset your password.</p>
    <p style="font-size: 13px; color: #555; margin-bottom: 20px;">
        ⚠️ Please enter the same email you used when creating your account. It must be valid on Google.
    </p>
    <form method="post">
        {% csrf_token %}
        <label for="forgot-email">Email</label>
        <input type="email" id="forgot-email" name="email" placeholder="Enter your email">
        <button type="submit">SUBMIT</button>
        <div class="cancel-link">
            <a onclick="hidePopup('forgot-popup', 'forgot-overlay')">Cancel</a>
        </div>
    </form>
</div>

<script>
    // ─── POP-UP DISPLAY CONTROLS ─────────────────────────────

    function showPopup(popupId, overlayId) {
        const popup = document.getElementById(popupId);
        const overlay = document.getElementById(overlayId);

        popup.classList.remove('popup-hide');
        popup.classList.add('popup-show');
        popup.style.display = 'block';
        overlay.style.display = 'block';
    }

    function hidePopup(popupId, overlayId) {
        const popup = document.getElementById(popupId);
        const overlay = document.getElementById(overlayId);

        popup.classList.remove('popup-show');
        popup.classList.add('popup-hide');

        setTimeout(() => {
            popup.style.display = 'none';
            overlay.style.display = 'none';
        }, 300); // Match bounceOut duration
    }

    // ─── LEGACY POP-UP CONTROLS (Login ↔ Popups) ─────────────

    function openPopup() {
        showPopup('popup-form', 'overlay');
        document.getElementById('login-form').style.display = 'none';
    }

    function closePopup() {
        hidePopup('popup-form', 'overlay');
        document.getElementById('login-form').style.display = 'block';
    }

    function openForgot() {
        showPopup('forgot-popup', 'forgot-overlay');
        document.getElementById('login-form').style.display = 'none';
    }

    function closeForgot() {
        hidePopup('forgot-popup', 'forgot-overlay');
        document.getElementById('login-form').style.display = 'block';
    }

    // ─── FORM VALIDATION ─────────────────────────────────────

    function validateCreateForm(event) {
        const firstName = document.getElementById('first_name').value.trim();
        const lastName = document.getElementById('last_name').value.trim();
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value.trim();

        if (!firstName || !lastName || !email || !password) {
            alert("All fields are important and they are needed.");
            event.preventDefault();
        } else if (!email.endsWith("@gmail.com")) {
            alert("Please enter a valid Google email address. It will be used for password recovery and your info is safe with us.");
            event.preventDefault();
        }
    }

    function validateForgotForm(event) {
        const email = document.getElementById('forgot-email').value.trim();

        if (!email) {
            alert("All fields are important and they are needed.");
            event.preventDefault();
        } else if (!email.endsWith("@gmail.com")) {
            alert("Please enter the recent email used when creating your account. It must be valid on Google.");
            event.preventDefault();
        }
    }

    // ─── EVENT BINDING ───────────────────────────────────────

    document.addEventListener('DOMContentLoaded', function () {
        // Form validation
        const createForm = document.querySelector('#popup-form form');
        const forgotForm = document.querySelector('#forgot-popup form');

        if (createForm) {
            createForm.addEventListener('submit', validateCreateForm);
        }

        if (forgotForm) {
            forgotForm.addEventListener('submit', validateForgotForm);
        }

        // Overlay click-to-close
        document.getElementById('overlay').addEventListener('click', () => closePopup());
        document.getElementById('forgot-overlay').addEventListener('click', () => closeForgot());
    });
</script>

</body>
</html>
